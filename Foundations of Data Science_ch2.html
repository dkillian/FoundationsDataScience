<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dan Killian">
<meta name="dcterms.date" content="2026-02-01">

<title>Foundations of Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Foundations of Data Science_ch2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Foundations of Data Science_ch2_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Foundations of Data Science_ch2_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Foundations of Data Science_ch2_files/libs/quarto-html/popper.min.js"></script>
<script src="Foundations of Data Science_ch2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Foundations of Data Science_ch2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Foundations of Data Science_ch2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Foundations of Data Science_ch2_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Foundations of Data Science_ch2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Foundations of Data Science_ch2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Foundations of Data Science_ch2_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="bslib-page-fill bslib-gap-spacing bslib-flow-mobile html-fill-container bslib-page-sidebar quarto-light" style="padding:0px;gap:0px;">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#high-dimensional-space" id="toc-high-dimensional-space" class="nav-link active" data-scroll-target="#high-dimensional-space">2 High Dimensional Space</a>
  <ul class="collapse">
  <li><a href="#markovs-inequality" id="toc-markovs-inequality" class="nav-link" data-scroll-target="#markovs-inequality">2.1 Markov’s Inequality</a>
  <ul class="collapse">
  <li><a href="#introduction-and-application" id="toc-introduction-and-application" class="nav-link" data-scroll-target="#introduction-and-application">2.1.1 Introduction and application</a></li>
  <li><a href="#derivation" id="toc-derivation" class="nav-link" data-scroll-target="#derivation">2.1.2 Derivation</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content page-columns page-full column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Foundations of Data Science</h1>
<p class="subtitle lead">Chapter notes for textbook by Blum et al 2020</p>
</div>



<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dan Killian </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 1, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="high-dimensional-space" class="level1 page-columns page-full">
<h1>2 High Dimensional Space</h1>
<section id="markovs-inequality" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="markovs-inequality">2.1 Markov’s Inequality</h2>
<section id="introduction-and-application" class="level3">
<h3 class="anchored" data-anchor-id="introduction-and-application">2.1.1 Introduction and application</h3>
<p>Markov’s Inequality states the following:</p>
<p><span class="math inline">\(P(X \geq a) \leq \frac{E(X)}{a}\)</span></p>
<p>The probability of some data point in the distribution X exceeding some threshold value <span class="math inline">\(a\)</span> cannot exceed the average of the distribution divided by <span class="math inline">\(a\)</span>.</p>
<p>When all we know about a distribution is it’s mean, Markov’s Inequality sets an upper bound on the probability of observing a particular value of any data point in the distribution.</p>
<p>How might this look in practice?</p>
<p>Let <span class="math inline">\(X\)</span> be a discrete random variable with values <span class="math inline">\(x_1, x_2, \ldots, x_n\)</span> and probabilities <span class="math inline">\(p_1, p_2, \ldots, p_n\)</span> where <span class="math inline">\(X \geq 0\)</span>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-173003c4{table-layout:auto;}.cl-1727ffee{font-family:'Gill Sans MT';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-172b5766{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-172b988e{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-172b9898{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-172b9899{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-173003c4"><thead><tr style="overflow-wrap:break-word;"><th class="cl-172b988e"><p class="cl-172b5766"><span class="cl-1727ffee">x</span></p></th><th class="cl-172b988e"><p class="cl-172b5766"><span class="cl-1727ffee">p</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">1</span></p></td><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">0.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">2</span></p></td><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">0.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">4</span></p></td><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">0.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">8</span></p></td><td class="cl-172b9898"><p class="cl-172b5766"><span class="cl-1727ffee">0.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-172b9899"><p class="cl-172b5766"><span class="cl-1727ffee">16</span></p></td><td class="cl-172b9899"><p class="cl-172b5766"><span class="cl-1727ffee">0.1</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We get the expected value, or average, of the variable by summing over each value in the distribution times its weight.</p>
<p><span class="math display">\[E(X) = \sum_i x_i \cdot P(X = x_i)\]</span> <span class="math inline">\(E(X)\)</span> = <span class="math inline">\((1)(.4) + (2)(.2) + (4)(.2) + (8)(.1) + (16)(.1)\)</span></p>
<p>So <span class="math inline">\(E(X)\)</span> = 4</p>
<p>Now let’s establish some arbitrary threshold <span class="math inline">\(a\geq4\)</span></p>
<p>In this example, what is <span class="math inline">\(P(X\geq a)\leq\frac{E(X)}{a}\)</span>?</p>
<p><span class="math inline">\(P(X\geq4)\leq\frac{4}{4}\leq 1\)</span></p>
<p>An obvious case, because the data point is also the mean!</p>
<p>What if <span class="math inline">\(a\geq8\)</span>?</p>
<p><span class="math inline">\(P(X\geq8)\leq\frac{4}{8}\leq.5\)</span></p>
<p>For a distribution with mean four, only half of all values of the distribution may exceed eight. If more than half of values in the distribution exceeded eight, it would shift the mean!</p>
<p><span class="math inline">\(a\geq16\)</span>?</p>
<p><span class="math inline">\(P(X\ge16)\leq\frac{4}{16}\leq.25\)</span></p>
<p>For a distribution of mean four, at most 25 percent of all data values may exceed 16. As soon as more than 25 percent of data values exceed four, it will shift the mean.</p>
</section>
<section id="derivation" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="derivation">2.1.2 Derivation</h3>
<p>Let’s work out how we can derive Markov’s Inequality, and offer additional illustrations</p>
<p>Note how we computed <span class="math inline">\(E(X)\)</span> as the sum of all values times their weight.</p>
<p><span class="math display">\[E(X) = \sum_i x_i \cdot P(X = x_i)\]</span></p>
<p>Let’s do that again, but this time grouping terms around our threshold <span class="math inline">\(a=4\)</span>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;This is the Law of Total Expectation: <span class="math inline">\(E(X) = E(X|A)P(A) + E(X|A^c)P(A^c)\)</span></p></div></div><p><span class="math display">\[E[X] = \sum\limits_{x_i &lt; a} x_i \cdot P(X = x_i) + \sum\limits_{x_i \geq a} x_i \cdot P(X = x_i)\]</span> In the example we’re working with, that would be</p>
<p><span class="math inline">\(E(X) = \Big[ (1)(.4) + (2)(.2) \Big] + \Big[ (4)(.2) + (8)(.1) + (16)(.1) \Big]\)</span></p>
<p>$2+2</p>
<p>We’re only interested in the second part of the decomposition. What happens if we remove the first part where <span class="math inline">\(a\lt 4\)</span>?</p>
<p>Since all values of <span class="math inline">\(X\)</span> are non-negative, that means we are removing positive values from the sum. Because we are removing positive values from the sum, the result of the operation will be less than <span class="math inline">\(E(X)\)</span>. Therefore, <span class="math inline">\(E(X)\)</span> will be the same as or higher than the remaining sum.</p>
<p>This allows us to replace the equality with greater than or equal to.</p>
<p><span class="math display">\[E(X) \geq \sum\limits_{x_i \geq a} x_i \cdot P(X = x_i)\]</span></p>
<p>Returning to our example, that would be</p>
<p><span class="math inline">\(E(X) \geq (4)(.2) + (8)(.1) + (16)(.1)\)</span></p>
<p>Recall that <span class="math inline">\(E(X)=4\)</span> and <span class="math inline">\(E(X\geq4)=.8 + .8 + 1.6 = 3.2\)</span></p>
<p><span class="math inline">\(4\geq3.2\)</span> and our inequality holds</p>
<p>Let’s go back to the generalized notation:</p>
<p><span class="math display">\[E(X) \geq \sum\limits_{x_i \geq a} x_i \cdot P(X = x_i)\]</span></p>
<p>Note that our remaining <span class="math inline">\(x_i\)</span> values are greater than or equal to <span class="math inline">\(a\)</span>. So our inequality still holds if we replace all the <span class="math inline">\(X\geq a\)</span> with just <span class="math inline">\(a\)</span>.</p>
<p><span class="math display">\[E(X) \geq \sum\limits_{x_i \geq a} a \cdot P(X = x_i)\]</span> We’re still summing over the same values where <span class="math inline">\(x_i\geq a\)</span>, but now we multiply by <span class="math inline">\(a\)</span> instead of <span class="math inline">\(x_i\)</span>.</p>
<p>This is where the loosening of the bound occurs! Back to our simple example for <span class="math inline">\(a=4\)</span>, what is the expected value?</p>
<p><span class="math inline">\(x_i\)</span> = 4: 4 * 0.2 = 0.8<br>
<span class="math inline">\(x_i\)</span> = 8: 8 * 0.1 = 0.8<br>
<span class="math inline">\(x_i\)</span> = 16: 16 * 0.1 = 1.6</p>
<p>Add them up: 4 * 0.2 + 8 * 0.1 + 16 * 0.1 = 3.2</p>
<p>Now we repeat that step, but use only <span class="math inline">\(a\)</span> - a lesser value:</p>
<p><span class="math inline">\(x_i\)</span> = 4: 4 * 0.2 = 0.8<br>
<span class="math inline">\(x_i\)</span> = 8: 4 * 0.1 = 0.4<br>
<span class="math inline">\(x_i\)</span> = 16: 4 * 0.1 = 0.4</p>
<p>Add them up: 4 * 0.2 + 4 * 0.1 + 4 * 0.1 = 1.6</p>
<p>We loosened the bound, in order to derive the proof.</p>
<p>Now let’s factor out the constant, based on the linearity of the summation operator.</p>
<p><span class="math display">\[E(X) \geq a\cdot \sum\limits_{x_i \geq a} P(X = x_i)\]</span></p>
<p>Now note that the summation of all <span class="math inline">\(x_i\geq a\)</span> is just the cumulative probability of <span class="math inline">\(x\geq a\)</span>. So let’s replace the summation operator with the cumulative probability.</p>
<p><span class="math display">\[E(X) \geq a \cdot P(X \geq a)\]</span></p>
<p>Solve for the probability to get Markov’s Inequality</p>
<p><span class="math display">\[P(X \geq a) \leq \frac{E(X)}{a}\]</span></p>
<p>Recap:</p>
<ul>
<li><p>After establishing some arbitrary threshold <span class="math inline">\(a\)</span>, we used the Law of Total Expectation to group the values of the distribution below and above the threshold.</p></li>
<li><p>We dropped all terms below the threshold. In doing this, we ensure that the remaining sum is less than the expected value (because the expected value is the sum of all terms).</p></li>
<li><p>Knowing that the expected value is the same as or higher than the remaining terms, we replaced the equality operator in the total expectation with a greater than or equal to operator after dropping the terms less than <span class="math inline">\(a\)</span>.</p></li>
<li><p>Knowing that the remaining values of <span class="math inline">\(X\)</span> are greater than or equal to <span class="math inline">\(a\)</span>, we replaced the <span class="math inline">\(X\)</span> notation with <span class="math inline">\(a\)</span>. This is where the loosening of the bound occurs, but it enables us to derive its proof.</p></li>
<li><p>We factored the constant <span class="math inline">\(a\)</span> out of the summation operator.</p></li>
<li><p>We recognized that the summation of terms above a threshold is the same thing as the cumulative probability above the threshold, so we replaced the summation operator with cumulative probability.</p></li>
<li><p>We solved for <span class="math inline">\(P(X\geq a)\)</span> to be <span class="math inline">\(\frac{E(X)}{a}\)</span>.</p></li>
</ul>
<p>And that is Markov’s Inequality</p>
<p>Let’s look at a few more data illustrations</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-175f4b66{table-layout:auto;}.cl-1758c3fe{font-family:'Gill Sans MT';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-175b7d60{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-175b9890{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-175b98a4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-175b98a5{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-175f4b66"><thead><tr style="overflow-wrap:break-word;"><th class="cl-175b9890"><p class="cl-175b7d60"><span class="cl-1758c3fe">x</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-175b98a4"><p class="cl-175b7d60"><span class="cl-1758c3fe">43</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-175b98a4"><p class="cl-175b7d60"><span class="cl-1758c3fe">64</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-175b98a4"><p class="cl-175b7d60"><span class="cl-1758c3fe">56</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-175b98a4"><p class="cl-175b7d60"><span class="cl-1758c3fe">56</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-175b98a4"><p class="cl-175b7d60"><span class="cl-1758c3fe">55</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-175b98a5"><p class="cl-175b7d60"><span class="cl-1758c3fe">54</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-17797072{table-layout:auto;}.cl-1771fad6{font-family:'Gill Sans MT';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17752e40{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17756b44{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17756b45{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-17797072"><thead><tr style="overflow-wrap:break-word;"><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">vars</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">n</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">mean</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">sd</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">median</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">trimmed</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">mad</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">min</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">max</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">range</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">skew</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">kurtosis</span></p></th><th class="cl-17756b44"><p class="cl-17752e40"><span class="cl-1771fad6">se</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">1</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">100</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">48.8</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">9.59</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">48.5</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">48.5</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">11.1</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">31</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">73</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">42</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">0.23</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">-0.84</span></p></td><td class="cl-17756b45"><p class="cl-17752e40"><span class="cl-1771fad6">0.959</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Let’s say a = 52</p>
<p><span class="math display">\[P(x\geq52)\leq\frac{49}{52}\leq 0.942\]</span> For context, what is the actual probability of observing 52 or more?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.41</code></pre>
</div>
</div>
<p>Under the Markov bound, as many as 94 percent of data values may exceed 51. In the actual data simulated from a normal distribution, 41 percent of the data values exceed 51.</p>
<p>Now let’s set values of <span class="math inline">\(a\)</span> at higher and higher quantiles<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Values of <span class="math inline">\(a\)</span> at low quantiles are uninteresting because the probability is unity</p></div></div><div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-179524de{table-layout:auto;}.cl-178bac74{font-family:'Gill Sans MT';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17911a92{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17911a9c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17913860{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1791386a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1791386b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17913874{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17913875{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17913876{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-179524de"><thead><tr style="overflow-wrap:break-word;"><th class="cl-17913860"><p class="cl-17911a92"><span class="cl-178bac74">quantile</span></p></th><th class="cl-1791386a"><p class="cl-17911a9c"><span class="cl-178bac74">a</span></p></th><th class="cl-1791386a"><p class="cl-17911a9c"><span class="cl-178bac74">ex_a</span></p></th><th class="cl-1791386a"><p class="cl-17911a9c"><span class="cl-178bac74">actual_prob</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1791386b"><p class="cl-17911a92"><span class="cl-178bac74">75%</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">56</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.875</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.26</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1791386b"><p class="cl-17911a92"><span class="cl-178bac74">90%</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">61</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.803</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1791386b"><p class="cl-17911a92"><span class="cl-178bac74">95%</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">64</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.766</span></p></td><td class="cl-17913874"><p class="cl-17911a9c"><span class="cl-178bac74">0.08</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17913875"><p class="cl-17911a92"><span class="cl-178bac74">99%</span></p></td><td class="cl-17913876"><p class="cl-17911a9c"><span class="cl-178bac74">69</span></p></td><td class="cl-17913876"><p class="cl-17911a9c"><span class="cl-178bac74">0.710</span></p></td><td class="cl-17913876"><p class="cl-17911a9c"><span class="cl-178bac74">0.02</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The Markov bounds are much higher than the actual probabilities found in the data. There is such a gap that Markov’s Inequality isn’t helpful in terms of hypothesis testing. It is still used in theoretical work to set bounds and support proofs. It would probably be best to think of it this way: what is the maximum proportion of data points that may exceed a given threshold, before the mean must shift toward the threshold?</p>
<p>Let’s see Markov’s Inequality across the discrete distribution we’ve been using for examples.</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0a93e8c8e720661a7245" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0a93e8c8e720661a7245">{"x":{"visdat":{"8f58414d315a":["function () ","plotlyVisDat"],"8f583d3727c8":["function () ","data"],"8f58170d7001":["function () ","data"],"8f5815c863bb":["function () ","data"]},"cur_data":"8f5815c863bb","attrs":{"8f583d3727c8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","name":"P(X = x)","marker":{"color":"#0067B9","opacity":0.5},"width":0.40000000000000002,"inherit":true},"8f58170d7001":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Markov Bound (E[X]/a)","type":"scatter","mode":"lines","line":{"color":"#BA0C2F","width":3},"inherit":true},"8f5815c863bb":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Actual P(X ≥ a)","type":"scatter","mode":"lines","line":{"color":"#0067B9","width":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Markov's Inequality: Interactive Exploration","xaxis":{"domain":[0,1],"automargin":true,"title":"Threshold (a)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Probability","range":[0,1]},"hovermode":"x unified","legend":{"x":0.69999999999999996,"y":0.94999999999999996},"showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1,2,4,8,16],"y":[0.40000000000000002,0.20000000000000001,0.20000000000000001,0.10000000000000001,0.10000000000000001],"type":"bar","name":"P(X = x)","marker":{"color":"#0067B9","opacity":0.5,"line":{"color":"rgba(31,119,180,1)"}},"width":[0.40000000000000002,0.40000000000000002,0.40000000000000002,0.40000000000000002,0.40000000000000002],"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5,15,15.5,16],"y":[4,2.6666666666666665,2,1.6000000000000001,1.3333333333333333,1.1428571428571428,1,0.88888888888888884,0.80000000000000004,0.72727272727272729,0.66666666666666663,0.61538461538461542,0.5714285714285714,0.53333333333333333,0.5,0.47058823529411764,0.44444444444444442,0.42105263157894735,0.40000000000000002,0.38095238095238093,0.36363636363636365,0.34782608695652173,0.33333333333333331,0.32000000000000001,0.30769230769230771,0.29629629629629628,0.2857142857142857,0.27586206896551724,0.26666666666666666,0.25806451612903225,0.25],"name":"Markov Bound (E[X]/a)","type":"scatter","mode":"lines","line":{"color":"#BA0C2F","width":3},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5,15,15.5,16],"y":[1,0.60000000000000009,0.60000000000000009,0.40000000000000002,0.40000000000000002,0.40000000000000002,0.40000000000000002,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001],"name":"Actual P(X ≥ a)","type":"scatter","mode":"lines","line":{"color":"#0067B9","width":3},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Finally, let’s explore Markov’s Inequality across several distributions:</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'bslib'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:sjstats':

    bootstrap</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:broom':

    bootstrap</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    page</code></pre>
</div>
<div class="cell-output-display no-overflow-x">

<div class="bslib-sidebar-layout bslib-mb-spacing html-fill-item" data-bslib-sidebar-border="false" data-bslib-sidebar-border-radius="false" data-bslib-sidebar-init="TRUE" data-collapsible-desktop="true" data-collapsible-mobile="false" data-open-desktop="open" data-open-mobile="always" data-require-bs-caller="layout_sidebar()" data-require-bs-version="5" style="--_sidebar-width:250px;">
<div class="main bslib-gap-spacing html-fill-container">
<main class="bslib-page-main bslib-gap-spacing html-fill-item html-fill-container">
<div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5">
<div class="card-header bslib-gap-spacing">Distribution Visualization</div>
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="shiny-plot-output html-fill-item" id="distPlot" style="width:100%;height:400px;"></div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
</div>
<div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5">
<div class="card-header bslib-gap-spacing">Markov's Inequality Check</div>
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div id="markovTable" class="shiny-html-output shiny-table-output"></div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
</div>
</main>
</div>
<aside id="bslib-sidebar-5137" class="sidebar" hidden="">
<div class="sidebar-content bslib-gap-spacing">
<div class="form-group shiny-input-container">
<label class="control-label" id="dist_type-label" for="dist_type">Distribution:</label>
<div>
<select id="dist_type" class="shiny-input-select"><option value="discrete" selected="">Discrete (custom)</option>
<option value="normal">Normal</option>
<option value="uniform">Uniform</option>
<option value="exponential">Exponential</option>
<option value="poisson">Poisson</option>
<option value="gamma">Gamma</option></select>
<script type="application/json" data-for="dist_type" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="a_threshold-label" for="a_threshold">Threshold (a):</label>
<input class="js-range-slider" id="a_threshold" data-skin="shiny" data-min="0" data-max="20" data-from="5" data-step="0.5" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<hr>
<div id="dist_info" class="shiny-html-output"></div>
</div>
</aside>
<button class="collapse-toggle" type="button" title="Toggle sidebar" aria-expanded="true" aria-controls="bslib-sidebar-5137"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-chevron-left collapse-icon" style="fill:currentColor;" aria-hidden="true" role="img"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg></button>
<script data-bslib-sidebar-init="">bslib.Sidebar.initCollapsibleAll()</script>
</div>

</div>
</div>
<p>
<script type="application/shiny-prerendered" data-context="server">
library(shiny)
library(bslib)
library(ggplot2)

# Dynamic distribution info panel
output$dist_info <- renderUI({
  switch(input$dist_type,
         "discrete" = div(
           h5("Custom Discrete"),
           p("X = {1, 2, 4, 8, 16}"),
           p("P = {0.4, 0.2, 0.2, 0.1, 0.1}"),
           p(strong("E[X] = 4"))
         ),
         "normal" = div(
           h5("Normal Distribution"),
           p("μ = 5, σ = 2"),
           p(strong("E[X] = 5"))
         ),
         "uniform" = div(
           h5("Uniform Distribution"),
           p("Range: [0, 10]"),
           p(strong("E[X] = 5"))
         ),
         "exponential" = div(
           h5("Exponential Distribution"),
           p("λ = 0.2"),
           p(strong("E[X] = 5"))
         ),
         "poisson" = div(
           h5("Poisson Distribution"),
           p("λ = 5"),
           p(strong("E[X] = 5"))
         ),
         "gamma" = div(
           h5("Gamma Distribution"),
           p("shape = 2, rate = 0.4"),
           p(strong("E[X] = 5"))
         )
  )
})

# Distribution parameters
get_params <- reactive({
  list(
    EX = switch(input$dist_type,
                "discrete" = 4,
                5),
    max_x = switch(input$dist_type,
                   "discrete" = 20,
                   "poisson" = 20,
                   "normal" = 15,
                   "uniform" = 12,
                   "exponential" = 20,
                   "gamma" = 20)
  )
})

# Actual probability P(X >= a)
calc_prob <- reactive({
  a <- input$a_threshold
  switch(input$dist_type,
         "discrete" = {
           x <- c(1, 2, 4, 8, 16)
           p <- c(0.4, 0.2, 0.2, 0.1, 0.1)
           sum(p[x >= a])
         },
         "normal"      = pnorm(a, mean = 5, sd = 2, lower.tail = FALSE),
         "uniform"     = punif(a, min = 0, max = 10, lower.tail = FALSE),
         "exponential" = pexp(a, rate = 0.2, lower.tail = FALSE),
         "poisson"     = ppois(a - 1, lambda = 5, lower.tail = FALSE),
         "gamma"       = pgamma(a, shape = 2, rate = 0.4, lower.tail = FALSE)
  )
})

# Distribution plot
output$distPlot <- renderPlot({
  a            <- input$a_threshold
  params       <- get_params()
  actual_prob  <- calc_prob()
  markov_bound <- params$EX / a

  if (input$dist_type == "discrete") {
    x <- c(1, 2, 4, 8, 16)
    p <- c(0.4, 0.2, 0.2, 0.1, 0.1)
    plot_data <- data.frame(x = x, p = p,
                            highlight = ifelse(x >= a, "\u2265 a", "< a"))
    ggplot(plot_data, aes(x = factor(x), y = p, fill = highlight)) +
      geom_col(width = 0.4) +
      scale_fill_manual(values = c("\u2265 a" = "#0067B9", "< a" = "lightgray")) +
      labs(x = "X", y = "Probability", fill = NULL,
           title = sprintf("P(X \u2265 %.1f) = %.3f  |  Markov Bound = %.3f",
                           a, actual_prob, markov_bound)) +
      theme_minimal(base_size = 14) +
      theme(legend.position = "bottom")

  } else if (input$dist_type == "poisson") {
    x_vals <- 0:20
    probs  <- dpois(x_vals, lambda = 5)
    plot_data <- data.frame(x = x_vals, p = probs,
                            highlight = ifelse(x_vals >= a, "\u2265 a", "< a"))
    ggplot(plot_data, aes(x = factor(x), y = p, fill = highlight)) +
      geom_col(width = 0.4) +
      scale_fill_manual(values = c("\u2265 a" = "#0067B9", "< a" = "lightgray")) +
      labs(x = "X", y = "Probability", fill = NULL,
           title = sprintf("P(X \u2265 %.1f) = %.3f  |  Markov Bound = %.3f",
                           a, actual_prob, markov_bound)) +
      theme_minimal(base_size = 14) +
      theme(legend.position = "bottom",
            axis.text.x = element_text(size = 8))

  } else {
    x_range <- seq(0, params$max_x, length.out = 500)
    density_data <- data.frame(
      x = x_range,
      y = switch(input$dist_type,
                 "normal"      = dnorm(x_range, mean = 5, sd = 2),
                 "uniform"     = dunif(x_range, min = 0, max = 10),
                 "exponential" = dexp(x_range, rate = 0.2),
                 "gamma"       = dgamma(x_range, shape = 2, rate = 0.4))
    )
    ggplot(density_data, aes(x = x, y = y)) +
      geom_line(linewidth = 1) +
      geom_area(fill = "lightblue", alpha = 0.3) +
      geom_vline(xintercept = a, linetype = "dashed",
                 color = "red", linewidth = 1.2) +
      geom_area(data = subset(density_data, x >= a),
                fill = "#0067B9", alpha = 0.5) +
      annotate("text", x = a, y = max(density_data$y) * 0.9,
               label = sprintf("a = %.1f\nP(X \u2265 a) = %.3f\nMarkov Bound = %.3f",
                               a, actual_prob, markov_bound),
               hjust = -0.1, size = 4.5) +
      labs(x = "X", y = "Density") +
      theme_minimal(base_size = 14)
  }
})

# Summary table
output$markovTable <- renderTable({
  a            <- input$a_threshold
  params       <- get_params()
  actual_prob  <- calc_prob()
  markov_bound <- params$EX / a

  data.frame(
    Measure = c("Distribution Mean E[X]",
                "Threshold (a)",
                "Markov Bound (E[X] / a)",
                "Actual P(X \u2265 a)",
                "Inequality holds?"),
    Value = c(sprintf("%.2f", params$EX),
              sprintf("%.2f", a),
              sprintf("%.3f", markov_bound),
              sprintf("%.3f", actual_prob),
              ifelse(actual_prob <= markov_bound, "\u2713 Yes", "\u2717 No"))
  )
}, bordered = TRUE, spacing = "s", width = "100%")
</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(
    function(q, nm, val) {
      # Infer name, if possible
      if (nm == "") {
        tryCatch(
          {
            nm <- rlang::as_name(q)
          },
          error = function(e) {
            code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
            stop(
              "ojs_define() could not create a name for the argument: ",
              code
            )
          }
        )
      }
      .session$output[[nm]] <- val
      outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
      .session$sendCustomMessage("ojs-export", list(name = nm))
      NULL
    },
    quos,
    nm,
    vars,
    SIMPLIFY = FALSE,
    USE.NAMES = FALSE
  )
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.1.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.1.3"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.js"]},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.1.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.1.3"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.js"]},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.1.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.1.3"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.js"]},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.1.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.1.3"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.js"]},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.12.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["typedarray"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/typedarray"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["typedarray.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.12.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-htmlwidgets-css"]},{"type":"character","attributes":{},"value":["2.25.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-htmlwidgets.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.12.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-main"]},{"type":"character","attributes":{},"value":["2.25.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/plotlyjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly-latest.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.12.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.7.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["1.13.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["5.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["href"]}},"value":[{"type":"character","attributes":{},"value":["Foundations of Data Science_ch2_files/libs/bootstrap-5.3.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1, shrink-to-fit=no"]}]},{"type":"character","attributes":{},"value":["bootstrap.bundle.min.js"]},{"type":"character","attributes":{},"value":["bootstrap.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","all_files","package","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bs3compat"]},{"type":"character","attributes":{},"value":["0.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["bs3compat/js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["transition.js","tabs.js","bs3compat.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["bslib"]},{"type":"character","attributes":{},"value":["0.10.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.10.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.13.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.13.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.13.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.13.0"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342]}},"value":[{"type":"character","attributes":{},"value":["abind","arrayhelpers","askpass","assertthat","backports","baggr","base","base64enc","bayesplot","bayestestR","bdsmatrix","BMisc","boot","bridgesampling","brms","Brobdingnag","broom","broom.mixed","bslib","cachem","car","carData","caret","cellranger","checkmate","class","cli","cluster","cmdstanr","coda","codetools","collapse","colorspace","colourpicker","compiler","correlation","corrplot","cowplot","crayon","crosstalk","curl","dagitty","data.table","datasets","datawizard","deldir","DEoptimR","DescTools","diagis","dials","DiceDesign","dichromat","digest","distributional","dplyr","dreamerr","DT","dygraphs","e1071","easystats","effectsize","emmeans","ergm","ergm.count","ergm.multi","estimability","estimatr","evaluate","Exact","expm","extrafont","extrafontdb","farver","fastDummies","fastmap","fixest","flextable","fontawesome","fontBitstreamVera","fontLiberation","fontquiver","forcats","foreach","foreign","forestplot","Formula","fs","furrr","future","future.apply","gdtools","generics","geomtextpath","gganimate","ggdag","ggdist","ggforce","ggfortify","gghighlight","ggplot2","ggplotify","ggpubr","ggraph","ggrepel","ggridges","ggsignif","ggstatsplot","ggtext","ggthemes","gld","globals","glue","gmp","gower","GPfit","graphics","graphlayouts","grDevices","grid","gridExtra","gridGraphics","gridtext","gt","gtable","gtExtras","gtools","gtsummary","hardhat","haven","here","HH","Hmisc","hms","htmlTable","htmltools","htmlwidgets","httpuv","httr","huxtable","ICC","igraph","infer","inline","insight","intergraph","interp","ipred","iterators","janitor","jpeg","jquerylib","jsonlite","jtools","kableExtra","knitr","labelled","later","lattice","latticeExtra","lava","lazyeval","leaps","lfe","lhs","lifecycle","listenv","lme4","lmom","lmtest","loo","lpSolveAPI","lubridate","magrittr","markdown","MASS","Matrix","MatrixModels","matrixStats","maxLik","memoise","methods","mime","miniUI","minqa","miscTools","mnormt","modelbased","modeldata","ModelMetrics","multcomp","mvtnorm","network","networkDynamic","networkLite","nlme","nloptr","nnet","numDeriv","officer","openssl","openxlsx","otel","paletteer","pander","parallel","parallelly","parameters","parsnip","patchwork","pbapply","performance","pillar","pkgbuild","pkgconfig","plm","plotly","plotrix","plyr","png","polyclip","posterior","prettyunits","pROC","processx","prodlim","progress","promises","proxy","ps","psych","purrr","qte","quantreg","QuickJSR","R6","ragg","rappdirs","rbibutils","RColorBrewer","Rcpp","RcppParallel","Rdpack","readr","readxl","recipes","reformulas","rematch2","report","repr","reshape2","rethinking","rlang","rle","rmarkdown","Rmpfr","robustbase","rootSolve","rpart","rprojroot","rsample","rstan","rstanarm","rstantools","rstatix","rstudioapi","Rttf2pt1","S7","sandwich","sass","scales","see","shape","shiny","shinyjs","shinystan","shinythemes","sjlabelled","sjmisc","sjPlot","sjstats","skimr","sn","sna","snakecase","SparseM","splines","StanHeaders","statnet","statnet.common","stats","stats4","statsExpressions","stringi","stringmagic","stringr","survival","svglite","svUnit","sysfonts","systemfonts","tailor","tensorA","tergm","texreg","textshaping","TH.data","threejs","tibble","tidybayes","tidygraph","tidymodels","tidyr","tidyselect","tidyverse","timechange","timeDate","tools","trust","tsna","tune","tweenr","tzdb","utils","uuid","V8","vcd","vctrs","viridis","viridisLite","withr","workflows","workflowsets","xfun","xml2","xtable","xts","yaml","yardstick","yulab.utils","zeallot","zip","zoo"]},{"type":"character","attributes":{},"value":["1.4-8","1.1-0","1.2.1","0.2.1","1.5.0","0.8","4.5.2","0.1-6","1.15.0","0.17.0","1.3-7","1.4.8","1.3-32","1.2-1","2.23.0","1.2-9","1.0.12","0.2.9.7","0.10.0","1.1.0","3.1-5","3.0-6","7.0-1","1.1.0","2.3.4","7.3-23","3.6.5","2.1.8.2","0.9.0","0.19-4.1","0.2-20","2.1.6","2.1-2","1.3.0","4.5.2","0.8.8","0.95","1.2.0","1.5.3","1.2.2","7.0.0","0.3-4","1.18.2.1","4.5.2","1.3.0","2.0-4","1.1-4","0.99.60","0.2.3","1.4.2","1.10","2.0-0.1","0.6.39","0.6.0","1.2.0","1.5.0","0.34.0","1.1.1.6","1.7-17","0.7.5","1.0.1","2.0.1","4.12.0","4.1.3","0.3.0","1.5.1","1.0.6","1.0.5","3.3","1.0-0","0.20","1.1","2.1.2","1.7.5","1.2.0","0.13.2","0.9.11","0.5.3","0.1.1","0.1.0","0.2.1","1.0.1","1.5.2","0.8-91","3.1.7","1.2-5","1.6.6","0.3.1","1.69.0","1.20.2","0.5.0","0.1.4","0.2.0","1.0.11","0.2.13","3.3.3","0.5.0","0.4.19","0.5.0","4.0.2","0.1.3","0.6.2","2.2.2","0.9.6","0.5.7","0.6.4","0.13.5","0.1.2","5.2.0","2.6.8","0.19.0","1.8.0","0.7-5.1","1.0.2","1.0-9","4.5.2","1.2.2","4.5.2","4.5.2","2.3","0.5-1","0.1.6","1.3.0","0.3.6","0.6.2","3.9.5","2.5.0","1.4.2","2.5.5","1.0.2","3.1-53","5.2-5","1.1.4","2.4.3","0.5.9","1.6.4","1.6.16","1.4.8","5.8.0","2.4.0","2.2.2","1.1.0","0.3.21","1.4.6","2.0-4","1.1-6","0.9-15","1.0.14","2.2.1","0.1-11","0.1.4","2.0.0","2.3.1","1.4.0","1.51","2.16.0","1.4.6","0.22-9","0.6-31","1.8.2","0.2.2","3.2","3.1.1","1.2.0","1.0.5","0.10.0","1.1-38","3.2","0.9-40","2.9.0","5.5.2.0-17.15","1.9.5","2.0.4","2.0","7.3-65","1.7-4","0.5-4","1.5.0","1.5-2.2","2.0.1","4.5.2","0.13","0.1.2","1.2.8","0.6-30","2.1.2","0.14.0","1.5.1","1.2.2.2","1.4-29","1.3-3","1.20.0","0.11.5","1.1.0","3.1-168","2.2.1","7.3-20","2016.8-1.1","0.7.3","2.3.4","4.2.8.1","0.2.0","1.7.0","0.6.6","4.5.2","1.46.1","0.28.3","1.4.1","1.3.2","1.7-4","0.16.0","1.11.1","1.4.8","2.0.3","2.6-7","4.12.0","3.8-14","1.8.9","0.1-8","1.10-7","1.6.1","1.2.0","1.19.0.1","3.8.6","2025.04.28","1.2.3","1.5.0","0.4-29","1.9.1","2.6.1","1.2.1","1.3.1","6.1","1.9.0","2.6.1","1.5.0","0.3.4","2.4.1","1.1-3","1.1.1","5.1.11-1","2.6.6","2.2.0","1.4.5","1.3.1","0.4.4","2.1.2","0.6.3","1.1.7","1.4.5","2.42","1.1.7","0.10.0","2.30","1.1-2","0.99-7","1.8.2.4","4.1.24","2.1.1","1.3.2","2.32.7","2.32.2","2.6.0","0.7.3","0.18.0","1.3.14","0.2.1","3.1-1","0.4.10","1.4.0","0.13.0","1.4.6.1","1.13.0","2.1.1","2.7.0","1.2.0","1.2.0","2.8.11","2.9.0","0.19.1","2.2.2","2.1.2","2.8","0.11.1","1.84-2","4.5.2","2.32.10","2019.6","4.13.0","4.5.2","4.5.2","1.7.3","1.8.7","1.2.0","1.6.0","3.8-6","2.2.2","1.0.8","0.8.9","1.3.1","0.1.0","0.36.2.1","4.2.2","1.39.5","1.0.4","1.1-5","0.3.4","3.3.1","3.0.7","1.3.1","1.4.1","1.3.2","1.2.1","2.0.0","0.4.0","4052.112","4.5.2","0.1-9","0.3.6","2.0.1","2.0.3","0.5.0","4.5.2","1.2-2","8.0.1","1.4-13","0.7.1","0.6.5","0.4.3","3.0.2","1.3.0","1.1.1","0.56","1.5.2","1.8-4","0.14.1","2.3.12","1.3.2","0.2.4","0.2.0","2.3.3","1.8-15"]}]}]}
</script>
<!--/html_preserve-->
</section>
</section>
</section>


</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>